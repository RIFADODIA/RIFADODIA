<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rifa de Bichos</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      background: linear-gradient(135deg, #1a2a6c, #b21f1f);
      min-height: 100vh;
      padding: 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .container {
      width: 100%;
      max-width: 500px;
      background: white;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    .header {
      text-align: center;
      margin-bottom: 15px;
    }

    h1 {
      color: #b21f1f;
      margin-bottom: 5px;
      font-size: 20px;
    }

    .welcome-message {
      background: #e7f3ff;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 15px;
      font-size: 14px;
      line-height: 1.4;
      border-left: 4px solid #1a2a6c;
      text-align: justify;
    }

    .prize-info {
      background: #f0f8ff;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 15px;
      text-align: center;
      border: 2px dashed #1a2a6c;
    }

    .blocks-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
      margin-bottom: 15px;
    }

    .block {
      background: #e3f2fd;
      border: 2px solid #1a2a6c;
      border-radius: 6px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 10px 5px;
      min-height: 70px;
      transition: all 0.2s;
      cursor: pointer;
    }

    .block:hover {
      transform: scale(1.05);
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    }

    .block-numbers {
      font-size: 14px;
      font-weight: bold;
      margin-bottom: 4px;
      text-align: center;
    }

    .block-animal {
      font-size: 11px;
      text-align: center;
      font-weight: 500;
    }

    .block.reserved {
      background: #ffcdd2;
      color: #666;
      border-color: #b21f1f;
      cursor: not-allowed;
    }

    .winner-section {
      background: #fff8e1;
      padding: 10px;
      border-radius: 8px;
      margin-top: 15px;
      text-align: center;
    }

    .instructions {
      background: #e7f3ff;
      padding: 10px;
      border-radius: 6px;
      margin-top: 12px;
      font-size: 12px;
    }

    .id-section {
      margin-top: 20px;
      padding: 15px;
      background: #e8f5e9;
      border-left: 5px solid #2e7d32;
      border-radius: 8px;
      font-size: 14px;
      text-align: center;
      display: none; /* come√ßa escondido */
    }

    .id-code {
      font-size: 18px;
      font-weight: bold;
      color: #2e7d32;
      margin-top: 8px;
    }

    #whatsappLink {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 12px;
      background: #25d366;
      color: white;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
    }

    #whatsappLink:hover {
      background: #1ebe57;
    }

    .no-winner {
      font-style: italic;
      color: #888;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>RIFA TODOS OS DIAS AS 19:00</h1>
      <p>25 grupos com 4 n√∫meros cada</p>
    </div>
    
    <div class="welcome-message">
      <p><strong>Seja bem-vindo!</strong> Clique no grupo que deseja. 
      Ao clicar, voc√™ receber√° um <strong>ID com seu grupo</strong>. 
      Copie esse ID e informe na p√°gina <strong>Iniciar do aplicativo</strong> pelo WhatsApp, 
      junto com o comprovante de pagamento.</p>
    </div>
    
    <div class="prize-info">
      <h2>Pr√™mio: R$ <span id="premiumValue"></span>,00</h2>
      <p>Valor por cota: R$ <span id="ticketValue"></span>,00</p>
    </div>
    
    <div class="blocks-container" id="blocksContainer"></div>
    
    <div class="winner-section">
      <h3>N√∫mero Sorteado</h3>
      <p><strong id="winnerNumber" class="no-winner">Aguardando sorteio...</strong></p>
    </div>
    
    <div class="instructions">
      <p><strong>Como funciona:</strong> Escolha um grupo e confirme sua reserva.</p>
    </div>
    
    <!-- üîπ Se√ß√£o que mostra o ID gerado -->
    <div class="id-section" id="idSection">
      <p>Seu ID de confirma√ß√£o √©:</p>
      <div class="id-code" id="generatedId"></div>
      <a id="whatsappLink" href="#" target="_blank">Enviar ID no WhatsApp</a>
      <p>Copie e envie junto com seu comprovante no WhatsApp.</p>
    </div>
  </div>
  
  <script>
    // üîπ CONFIGURA√á√ïES EDIT√ÅVEIS
    const config = {
      premiumValue: 150,          // valor do pr√™mio
      ticketValue: 10,            // valor da cota
      winningNumber: null,        // n√∫mero sorteado (null = n√£o sorteado ainda)
      reservedGroups: [0, 0, 0],  // grupos reservados (0 = nenhum)
      pixKey: "testeteste" // sua chave PIX aqui
    };

    const animals = [
      "AVESTRUZ", "√ÅGUIA", "BURRO", "BORBOLETA", "CACHORRO",
      "CABRA", "CARNEIRO", "CAMELO", "COBRA", "COELHO",
      "CAVALO", "ELEFANTE", "GALO", "GATO", "JACAR√â",
      "LE√ÉO", "MACACO", "PORCO", "PAV√ÉO", "PERU",
      "TOURO", "TIGRE", "URSO", "VEADO", "VACA"
    ];

    function init() {
      document.getElementById("premiumValue").textContent = config.premiumValue;
      document.getElementById("ticketValue").textContent = config.ticketValue;
      generateBlocks();
      updateWinnerDisplay();
    }

    function generateBlocks() {
      const blocksContainer = document.getElementById("blocksContainer");
      blocksContainer.innerHTML = "";

      for (let i = 1; i <= 25; i++) {
        const block = document.createElement("div");
        block.className = "block";
        block.dataset.block = i;

        const startNum = (i - 1) * 4 + 1;
        const numbers = [];

        for (let j = 0; j < 4; j++) {
          let num = startNum + j;
          if (num > 100) num = num - 100;
          if (num === 100) num = 0;
          numbers.push(num.toString().padStart(2, "0"));
        }

        block.innerHTML = `
          <div class="block-numbers">${numbers.join("-")}</div>
          <div class="block-animal">${animals[i-1]}</div>
        `;

        if (config.reservedGroups.includes(i)) {
          block.classList.add("reserved");
        } else {
          block.addEventListener("click", () => {
            const randomId = generateRandomId();
            const idText = `GRUPO-${i}-${animals[i-1]}-${randomId}`;

            document.getElementById("generatedId").textContent = idText;
            document.getElementById("idSection").style.display = "block";

            // Atualiza link do WhatsApp
            updateWhatsAppLink(idText);

            // Copia automaticamente
            navigator.clipboard.writeText(idText).then(() => {
              alert("ID copiado! Agora envie pelo WhatsApp junto com seu comprovante.");
            });

            window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
          });
        }

        blocksContainer.appendChild(block);
      }
    }

    function updateWinnerDisplay() {
      const winnerElement = document.getElementById("winnerNumber");
      
      if (config.winningNumber === null || config.winningNumber === undefined || config.winningNumber === "") {
        winnerElement.textContent = "Aguardando sorteio...";
        winnerElement.className = "no-winner";
      } else {
        let winningNumber = config.winningNumber;
        if (winningNumber === 0) winningNumber = 100;

        let groupNumber;
        if (winningNumber % 4 === 0) {
          groupNumber = winningNumber / 4;
        } else {
          groupNumber = Math.ceil(winningNumber / 4);
        }
        
        if (winningNumber === 100) groupNumber = 25;
        
        const animalIndex = groupNumber > 0 && groupNumber <= 25 ? groupNumber - 1 : 0;
        const displayNumber = config.winningNumber === 0 ? "00" : config.winningNumber.toString().padStart(2, "0");

        winnerElement.textContent = `${displayNumber} - ${animals[animalIndex]}`;
        winnerElement.className = "";
      }
    }

    function generateRandomId(length = 6) {
      const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
      let result = "";
      for (let i = 0; i < length; i++) {
        result += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      return result;
    }

    function updateWhatsAppLink(idText) {
      const phoneNumber = "5575983728830"; // substitua pelo seu n√∫mero
      const message = encodeURIComponent(
        `Ol√°, meu ID do grupo √©: ${idText}\n\n` +
        `Chave PIX para pagamento:\n${config.pixKey}\n\n` +
        `Enviar o comprovante  pra atualizar seu grupo na  tabelaüëâ`
      );
      document.getElementById("whatsappLink").href = `https://wa.me/${phoneNumber}?text=${message}`;
    }

    document.addEventListener("DOMContentLoaded", init);
  </script>
</body>
</html>